---
title: Mellanox ConnectX
description: Mellanox ConnectX-3/4
updated: 2025-10-08
environment: ubuntu desktop
genai:
    - claude
visibility: public
status: wip
tags:
    - mellanox
    - connectx
    - infiniband
    - ethernet
---
# Mellanox ConnectX-3/X4

## 📋 型番の読み方

### ConnectX-3/3 Pro 基本構造
```
MCX3[1/2][1/4]A-[X/T/B]C[A/B]T
 │   │  │ │    │     │   │  └─ Dell OEM版マーカー
 │   │  │ │    │     │   └─── 世代・バージョン
 │   │  │ │    │     └───────コネクタ種類
 │   │  │ │    └─────────────インターフェース種類  
 │   │  │ └──────────────────速度規格
 │   │  └───────────────────ポート数補助
 │   └──────────────────────ポート数
 └──────────────────────────シリーズ
```

### ConnectX-4/4 Lx 基本構造
```
MCX4[1/5/6][1/2/3][1/5]-[A/G]C[A/B]T
 │   │  │  │  │      │      │   └─ Dell OEM版マーカー
 │   │  │  │  │      │      └───── コネクタ種類
 │   │  │  │  │      └────────────速度規格
 │   │  │  │  └───────────────────速度クラス
 │   │  │  └──────────────────────ポート数
 │   │  └─────────────────────────シリーズ内型番
 │   └────────────────────────────4=CX4, 4Lx
 └────────────────────────────────Mellanox型番
```

---

## 🔢 型番デコード表

### ポート数
| コード | 意味 |
|--------|------|
| 11 | シングルポート |
| 12 | デュアルポート |
| 14 | クアッドポート |
| 13 | シングル(100G用) |

### 速度規格
| コード | CX3/3Pro | CX4/4Lx |
|--------|----------|---------|
| A | 10/40GbE | 25/100GbE |
| B | 56GbE (FDR IB) | - |
| G | - | 10GbE互換 |

### インターフェース種類
| コード | 意味 | 速度 |
|--------|------|------|
| -XC | SFP+ | 10G |
| -TC | RJ45 | 10G銅線 |
| -BC | QSFP/QSFP+ | 40G |
| -AC | SFP28 | 25G |
| -CC | QSFP28 | 100G |

---

## 📊 主要モデル一覧

### ConnectX-3 シリーズ
| 型番例 | 説明 | 用途 |
|--------|------|------|
| MCX311A-XCAT | 1P 10G SFP+ | 入門・テスト |
| MCX312A-XCBT | 2P 10G SFP+ | 標準構成 |
| MCX354A-FCBT | 2P 40G QSFP | ハイエンド |

### ConnectX-3 Pro シリーズ
| 型番例 | 説明 | 特徴 |
|--------|------|------|
| MCX312B-XCCT | 2P 10G SFP+ | VXLAN対応 |
| MCX354A-FCBT | 2P 40G QSFP | NVGRE対応 |

### ConnectX-4 Lx シリーズ
| 型番例 | 説明 | 推奨用途 |
|--------|------|----------|
| MCX4111A-ACAT | 1P 25G SFP28 | コスパ最高 |
| MCX4121A-ACAT | 2P 25G SFP28 | 将来性◎ |

### ConnectX-4 シリーズ
| 型番例 | 説明 | 用途 |
|--------|------|------|
| MCX415A-CCAT | 1P 100G QSFP28 | 超高速 |
| MCX416A-CCAT | 2P 100G QSFP28 | 最大性能 |

---

## 🔧 速度対応マトリックス

| モデル | 1G | 10G | 25G | 40G | 50G | 100G |
|--------|----|----|-----|-----|-----|------|
| CX3 | ✓ | ✓ | - | ✓ | - | - |
| CX3 Pro | ✓ | ✓ | - | ✓ | - | - |
| CX4 Lx | ✓ | ✓ | ✓ | - | - | - |
| CX4 | - | ✓ | ✓ | ✓ | ✓ | ✓ |

---

## 💡 購入時チェックリスト

### ✅ 必須確認項目
1. **ポート数**: 1P/2P（価格差大）
2. **速度**: 目的に合った速度
3. **コネクタ**: SFP+/SFP28/QSFP/QSFP28
4. **ブラケット**: フルハイト/ロープロファイル
5. **OEM版**: Dell/HP/Lenovoロゴ（機能同じ）

### 🎯 用途別推奨モデル

**10G入門**
- MCX311A-XCAT (1ポート、低コスト)
- MCX312A-XCBT (2ポート、標準)

**25G次世代対応**
- MCX4121A-ACAT (2ポート、将来性)

**40G高速**
- MCX354A-FCBT (CX3 Pro推奨)

**100G超高速**
- MCX415A-CCAT (1ポート)
- MCX416A-CCAT (2ポート)

---

## 🔌 ケーブル選択

| ケーブル種類 | 距離 | コスト | 用途 |
|------------|------|--------|------|
| DAC (銅線) | ~7m | 安 | ラック内 |
| AOC (光) | ~30m | 中 | ラック間 |
| 光モジュール+LC | ~10km | 高 | 長距離 |

---

## 💻 ドライバ・FW情報

### 対応OS
- **Linux**: カーネル標準対応
- **Windows**: 公式ドライバ必須
- **ESXi**: VMware認定版

### ファームウェア
- Mellanox公式から無料DL可
- OEM版も共通FWで更新可
- MFTツール使用推奨

### 最小FWバージョン
- **CX3**: 2.30.8000+
- **CX3 Pro**: 2.31.5050+
- **CX4**: 12.17.2052+
- **CX4 Lx**: 14.17.2052+

---

## 🚨 よくある質問

**Q: OEM版(Dell/HP)は使える？**  
A: 使えます。FW更新で汎用版と同等

**Q: InfiniBandとEthernetは？**  
A: 多くのモデルでFW切替可能

**Q: SR-IOVは？**  
A: CX3で最大63VF、CX4で最大127VF対応

**Q: RoCEは？**  
A: 全モデル対応（CX4はRoCEv2標準）

---

## 📝 識別方法

### Linuxで確認
```bash
lspci | grep Mellanox
# 出力例:
# 27:00.0 Network controller: Mellanox Technologies MT27500 Family [ConnectX-3]
# 27:00.0 Network controller: Mellanox Technologies MT27700 Family [ConnectX-4]
```

### ファームウェア確認
```bash
mst start
mst status
mlxfwmanager
```

---

## 🎓 まとめ

| 用途 | 推奨モデル | 理由 |
|------|-----------|------|
| コスパ重視10G | MCX312A-XCBT | 定番・安定 |
| 将来性25G | MCX4121A-ACAT | 次世代標準 |
| 高性能40G | MCX354A-FCBT | Pro版推奨 |
| 最高性能100G | MCX416A-CCAT | デュアル100G |

**これでヤフオク・アリエクの型番選びも完璧！** 🎯

