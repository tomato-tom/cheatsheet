<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Cheat Sheet</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/5.2.0/github-markdown-light.min.css">
    <style>
        body { background-color: #f6f8fa; margin: 0; padding: 20px; display: flex; justify-content: center; }
        .markdown-body { box-sizing: border-box; min-width: 200px; max-width: 980px; margin: 0 auto; padding: 45px; background-color: white; border: 1px solid #d0d7de; border-radius: 6px; }
        #back-btn { margin-bottom: 20px; display: none; cursor: pointer; color: #0969da; text-decoration: none; font-weight: bold; border: none; background: none; font-size: 16px; padding: 0; }
        #back-btn:hover { text-decoration: underline; }
    </style>
</head>
<body>
    <article class="markdown-body">
        <button id="back-btn" onclick="location.reload()">← TOPに戻る</button>
        <div id="content">
            <h1>ショートカットキーとかのチートシート</h1>
            <h3>vim</h3>
            <ul>
                <li><a href="vim_window.md">VIM Window</a></li>
                <li><a href="vim_move.md">VIM_MOVE</a></li>
                <li><a href="vim_search.md">VIM_SEARCH</a></li>
                <li><a href="vim_cheatsheet.md">VIM Cheatsheet</a></li>
            </ul>
            <h3>console</h3>
            <ul>
                <li><a href="shell_hotkey.md">SHLL Hotkey</a></li>
                <li><a href="tmux_cheatsheet.md">TMUX Cheatsheet</a></li>
                <li><a href="screen.md">Screen</a></li>
                <li><a href="konsole.md">Konsole</a></li>
                <li><a href="win_terminal_hotkey.md">Windows10 Terminal</a></li>
            </ul>
            <h3>その他</h3>
            <ul>
                <li><a href="systemd-run.md">systemd-run</a></li>
            </ul>
        </div>
    </article>

    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script>
        // ページ内のすべての .md リンクをフックする
        document.querySelectorAll('a').forEach(link => {
            if (link.getAttribute('href').endsWith('.md')) {
                link.addEventListener('click', function(e) {
                    e.preventDefault(); // ブラウザがファイルを開くのを阻止
                    const url = this.getAttribute('href');
                    
                    fetch(url)
                        .then(response => {
                            if (!response.ok) throw new Error();
                            return response.text();
                        })
                        .then(md => {
                            // 表示エリアを書き換え
                            document.getElementById('content').innerHTML = marked.parse(md);
                            document.getElementById('back-btn').style.display = 'block';
                            window.scrollTo(0, 0);
                        })
                        .catch(() => {
                            alert('Failed to load file');
                        });
                });
            }
        });
    </script>
</body>
</html>
